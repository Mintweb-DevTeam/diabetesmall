{*** 회원가입 > 정보입력 | main/html.php?htmid=member/new_join.html ***}
{ # header }

<style>
.youcan {display:none;}
</style>

<div class="content_box">
	<div class="join_agreement_wrap">

		<form id="frm" method="post" action="./co_join_step_ps.php" target="ifrmProcess">
		<!--{@data.privateApprovalOptionFl}-->
		<input name="privateApprovalOptionFl[{.key_}]" type="hidden" value="{.value_}">
		<!--{/}-->
		<!--{@data.privateConsignFl}-->
		<input name="privateConsignFl[{.key_}]" type="hidden" value="{.value_}">
		<!--{/}-->
		<!--{@data.privateOfferFl}-->
		<input name="privateOfferFl[{.key_}]" type="hidden" value="{.value_}">
		<!--{/}-->
		<div class="adela_member_cont">
			<h3 class="mem_title mb50 pb40" style="border-bottom:3px solid #ffc600">
					아델라 회원가입
					<p class="fs24 fw400 mt20">등록된 리브레케어 멤버십 정보로<br /> 온라인 쇼핑몰(아델라) 회원가입이 가능합니다 </p>
					<p class="pull-right" style="margin-top:-100px;"><img src="../img/common/freestyle_libre_logo.jpg" alt="" /></p>
				</h3>

			<h4 class="fcOrange fs30 fw600"style="letter-spacing:5px;">개인정보 입력:</h4>
			<p class="fs26 fcGray6"><span class="fcOrange">*</span> 항목은 필수 입력사항입니다.</p>
			


			<div class="mb30 mt60">
				<h5 class="fs26 fcGray6 mb10">이름<span class="fcOrange">*</span></h5>	
				<input name="memNm" type="text" value="{data.memNm}" readonly class="form-control wp90"/>
			</div>

			<div class="mb30">
				<h5 class="fs26 fcGray6 mb10">비밀번호<span class="fcOrange">*</span></h5>	
				 <input name="memPw" onKeyUp="test_password(this)" type="password" value="" class="form-control wp90"/>
				 <p id="pass-error" class="mt10 fcGray6 fs15 text_warning" style="display: block">비밀번호 8자 이상 16자 이하이어야 하며 숫자, 영문, 특수문자가 하나 이상 포함되어야 합니다.</p>
			</div>

			<div class="mb30">
				<h5 class="fs26 fcGray6 mb10">비밀번호 확인<span class="fcOrange">*</span></h5>	
				<input id="password-ck" type="password" value="" class="form-control wp90"/>
			</div>

			<div class="mb30 ">
				<h5 class="fs26 fcGray6 mb10">ID<span class="fcOrange">*</span></h5>	
				<input name="memId" type="text" value="{data.email}" class="form-control wp90" readonly />
				<input name="abbott_sno" type="hidden" value="{data.sno}" >
				<input name="groupModDt" type="hidden" value="0000-00-00 00:00:00" >
				<input name="groupValidDt" type="hidden" value="0000-00-00 00:00:00" >
				<input name="sleepWakeDt" type="hidden" value="0000-00-00 00:00:00" >
				<input name="lifeMemberConversionDt" type="hidden" value="0000-00-00 00:00:00" >
				<input name="pharmacy_code" type="hidden" value="{data.pharmacy_code}" >
				<input name="appFl" type="hidden" value="y" >
				<input name="entryDt" type="hidden" value="{=date('Y-m-d H:i:s')}" >
				<input name="regDt" type="hidden" value="{=date('Y-m-d H:i:s')}" >
				<input name="approvalDt" type="hidden" value="{=date('Y-m-d H:i:s')}" >
				<input name="memberFl" type="hidden" value="personal" >
				<input name="email" type="hidden" value="{data.email}" >
				<input name="loginLimit" type="hidden" value="null" >
				<input name="pakey" type="hidden" value="" >
			</div>
			
			

			<div class="mb30">
				<h5 class="fs26 fcGray6 mb10">휴대폰 번호<span class="fcOrange">*</span></h5>	
				<!-- <input type="text" value="+82" readonly class="form-control w70"/> -->
				<input name="cellPhone" type="text" value="{data.cellPhone}" readonly class="form-control wp90"/>
			</div>

			<div class="mb30">
				<h5 class="fs26 fcGray6 mb10">주소<span class="fcOrange">*</span></h5>	
				<p class="post_num wp90">
					<input name="zonecode" type="text" onClick="gd_postcode_search('zonecode', 'address', 'zipcode')" readonly class="form-control wp100"/>
					<span><button type="button" onClick="gd_postcode_search('zonecode', 'address', 'zipcode')" class="btn btn-orange">검색</button></span>
				</p>
				
				<p class="mt10"><input name="address" type="text" onClick="gd_postcode_search('zonecode', 'address', 'zipcode')" readonly class="form-control wp90"/></p>
				<p class="mt10"><input name="addressSub" type="text" class="form-control wp90"/></p>
			</div>

			<!--{ ? wmAgreement }-->
			<h4 class="informNm fs26 fcOrange fw600 mb20">{agreementInfo.informNm}</h4>

			<div class="form_element_section">
				<div class="form_element_wrap">
					<div class="form_element">
						<input type="checkbox" id="allCheck" value="y">
						<label for="allCheck" class="check_s">아래 모든 내용에 동의합니다.</label>
					</div>
				</div>

				<div class="form_element_wrap">
					<div class="form_element">
						<input type="checkbox" id="agreementCheck" name="privateApprovalFl" class="form_element_checkbox" value="y">
						<label for="agreementCheck" class="check_s">본인은 <span class="text-blue">이용약관</span>에 동의합니다. <span class="text-red">(필수)</span></label>
					</div>
					<button type="button" onclick="show_join_layer('agreement')">자세히보기</button>
				</div>

				<div class="form_element_wrap">
					<div class="form_element">
						<input type="checkbox" id="privateCheck" class="form_element_checkbox" value="y">
						<label for="privateCheck" class="check_s">본인은 <span class="text-blue">개인정보 처리방침</span>에 동의합니다. <span class="text-red">(필수)</span></label>
					</div>
					<button type="button" onclick="show_join_layer('private')">자세히보기</button>
				</div>

				<div class="form_element_wrap">
					<div class="form_element">
						<input type="checkbox" id="spCheck" class="form_element_checkbox" name="agreementSp" value="y">
						<label for="spCheck" class="check_s">
							본인은 <span class="text-blue">제 3자 정보 제공</span>에 동의하고, 다른 국가에 전송하는데 동의합니다. <span class="text-red">(선택)</span>
							<p>* 멤버쉽, 쿠폰 제공 및 리브레 케어 서비스 포함 마케팅 활동을 위해 요청되며, 동의하지 않을 경우 일부 서비스 이용에 제한이 있을 수 있습니다.</p>
						</label>
					</div>
					<button type="button" onclick="show_join_layer('sp')">자세히보기</button>
				</div>
			</div>
			<!--{ : }-->
			<section>
				<h4 class="informNm fs26 fcOrange fw600 mb20">{agreementInfo.informNm}</h4>
				<div class="scroll-info-content mb20">{=nl2br(agreementInfo.content)}</div>
				<p class="check_style01">
					<input name="privateApprovalFl" type="checkbox" value="y" class="check-box" data-must="y" data-name="{agreementInfo.informNm}" id="privateApprovalFl">
					<label for="privateApprovalFl">동의 <span class="fcRed">(필수)</span></label>
				</p>
			</section>
			<!--{ / }-->
			<section>
				<!--{?privateApproval.displayShopFl == 'y'}-->
				<h4 class="informNm fs26 fcOrange fw600 mb20">{privateApproval.informNm}</h4>
				<div class="scroll-info-content mb20">{=nl2br(privateApproval.content)}</div>
				<p class="check_style01">
					<input name="privateApproval" type="checkbox" value="y" class="check-box" data-must="{privateApproval.modeFl}" data-name="{privateApproval.informNm}" id="privateApproval">
					<label for="privateApproval">동의 <span class="fcRed">(필수)</span></label>
				</p>
				<!--{/}-->
			</section>
			
			<section>
				<!--{@privateApprovalOption}-->
				<!--{?.sno != 19 && .sno != 21 && .displayShopFl == 'y'}-->
				<h4 class="informNm fs26 fcOrange fw600 mb20">{.informNm}</h4>
				<div class="scroll-info-content mb20">{=nl2br(.content)}</div>
				<p class="check_style01">
					<input name="privateApprovalOptionFl[{.sno}]" type="checkbox" value="y" class="check-box" data-must="{.modeFl}" data-name="{.informNm}" id="privateApprovalOptionFl{.sno}">
					<label for="privateApprovalOptionFl{.sno}">동의 <span class="fcRed">(필수)</span></label>
				</p>
				<!--{/}-->
				<!--{/}-->
			</section>
			<section><!--필수 3-->
				<!--{@privateOffer}-->
				<!--{?.sno != 5 && .sno != 22 && .sno != 25 && .sno != 26 && .displayShopFl == 'y'}-->
					<h4 class="informNm fs26 fcOrange fw600 mb20">{.informNm}</h4>
				<div class="scroll-info-content mb20">{=nl2br(.content)}</div>
				<p class="check_style01">
					<input name="privateOfferFl[{.sno}]" type="checkbox" value="y" class="check-box" data-must="{.modeFl}" data-name="{.informNm}" id="privateOfferFl{.sno}">
					<label for="privateOfferFl{.sno}">동의 <span class="fcRed">(필수)</span></label>
				</p>
				<!--{/}-->
				<!--{/}-->
			</section>
			<section><!--선택 1-->
				<!--{@privateConsign}-->
				<!--{?.sno != 20 && .sno != 23 && .displayShopFl == 'y'}-->
				<h4 class="informNm fs26 fcOrange fw600 mb20">{.informNm}</h4>
				<p class="check_style01">
				<div class="scroll-info-content mb20">{=nl2br(.content)}</div>
					<input name="privateConsignFl[{.sno}]" type="checkbox" value="y" class="check-box" data-must="{.modeFl}" id="privateConsignFl{.sno}">
					<label for="privateConsignFl{.sno}">동의 <span class="fcRed">(필수)</span></label>
				</p>
				<!--{/}-->
				<!--{/}-->
			</section>



			<p class="mt20" style="text-align:right">
				
				{?adobe_member == 1}
					<button type="button" onClick="submit_check()" class="submit_btn btn btn-orange w300 btn-lg">가입완료</button>
				{:}
					<button type="button" onClick="submit_()" class="submit_btn btn btn-orange w300 btn-lg">가입완료</button>
				{/}
			
			</p>
			<div class="mt20">ADC-21797 v2.0</div>
		</div>
		</form>
		<!-- //member_cont -->
	</div>
	<!-- //join_agreement_wrap -->
</div>
<!-- //content_box -->
<script>

//2024.06.27웹앤모바일 회원가입 어도비 전송시작
function submit_check(){
	let errMsgArr=[];
	let errMsg =[];
	if(!$("input[name='memNm']").val()){
		errMsg={
			"errorType":"form",
			"errorMessage":"이름을 입력하세요.",
			"formName":"registrationForm",
			"formType":"signup"
		}
		errMsgArr.push(errMsg);
	}
	
	if(!$("input[name='memPw']").val()){
		errMsg={
			"errorType":"form",
			"errorMessage":"비밀번호를 입력하세요.",
			"formName":"registrationForm",
			"formType":"signup"
		}
		errMsgArr.push(errMsg);
	}	
	if(!$("#password-ck").val()){
		errMsg={
			"errorType":"form",
			"errorMessage":"확인 비밀번호를 입력하세요.",
			"formName":"registrationForm",
			"formType":"signup"
		}
		errMsgArr.push(errMsg);
	}	
	
	if($("#password-ck").val()!=$("input[name='memPw']").val()){
		errMsg={
			"errorType":"form",
			"errorMessage":"비밀번호가 일치하지 않습니다.",
			"formName":"registrationForm",
			"formType":"signup"
		}
		errMsgArr.push(errMsg);
	}
	
	
	if(!$("input[name='memId']").val()){
		errMsg={
			"errorType":"form",
			"errorMessage":"아이디를 입력하세요.",
			"formName":"registrationForm",
			"formType":"signup"			
		}
		errMsgArr.push(errMsg);
	}	
	
	if(!$("input[name='cellPhone']").val()){
		errMsg={
			"errorType":"form",
			"errorMessage":"핸드폰번호를 입력하세요.",
			"formName":"registrationForm",
			"formType":"signup"			
		}
		errMsgArr.push(errMsg);
	}
	
	
	if(!$("input[name='zonecode']").val()){
		errMsg={
			"errorType":"form",
			"errorMessage":"우편번호를 입력하세요.",
			"formName":"registrationForm",
			"formType":"signup"			
		}
		errMsgArr.push(errMsg);
	}	

	if(!$("input[name='address']").val()){
		errMsg={
			"errorType":"form",
			"errorMessage":"주소를 입력하세요.",
			"formName":"registrationForm",
			"formType":"signup"			
		}
		errMsgArr.push(errMsg);
	}
	if(!$("input[name='addressSub']").val()){
		errMsg={
			"errorType":"form",
			"errorMessage":"나머지 주소를 입력하세요.",
			"formName":"registrationForm",
			"formType":"signup"			
		}
		errMsgArr.push(errMsg);
	}

	<!--{ ? wmAgreement }-->
	if ($('#agreementCheck').prop('checked') == false) {
		errMsg = {
			"errorType": "form",
			"errorMessage": "이용약관 동의에 체크해주세요.",
			"formName": "registrationForm",
			"formType": "signup"
		}
		errMsgArr.push(errMsg);
	}
	if ($('#privateCheck').prop('checked') == false) {
		errMsg = {
			"errorType": "form",
			"errorMessage": "개인정보 처리방침 동의에 체크해주세요.",
			"formName": "registrationForm",
			"formType": "signup"
		}
		errMsgArr.push(errMsg);
	}
	// 제3자 정보 제공 동의는 선택사항이므로 생략.
	<!--{ : }-->
	if(!$("input:checkbox[name='privateApprovalFl']").is(":checked")){
		errMsg={
			"errorType":"form",
			"errorMessage":"동의항목에 체크해주세요.",
			"formName":"registrationForm",
			"formType":"signup"
		}
		errMsgArr.push(errMsg);
	}
	<!--{ / }-->
	
	if(errMsgArr.length>0){
	
		_satellite.track('error',{
			'errors': errMsgArr
		});
			
	}else{
		_satellite.track('formSubmitSuccess',{
		'formName': 'registrationForm',
		'formType': 'signup'
		});
	
	}

	submit_();
}
//2024.06.27웹앤모바일 회원가입 어도비 전송종료

function submit_(){
	var pw = $('#password-ck').val(),
		msg = [];
	if( $('input[name="memPw"]').val() != pw || !pw ){
		alert('비밀번호를 확인해 주세요');
		return;
	}
	$('.check-box').each(function(){
		var value = $(this).is(':checked') ? 'y' : 'n';
		if( $(this).data('must') == 'y' ){
			if( value == 'n' ) msg.push( $(this).data('name').replace('(필수)', '') );
		}
	});
	if( msg.length != 0 ){
		alert( msg.join( "\n" ) + ' 은(는) 필수 항목 입니다.' );
		return;
	}

	<!--{ ? wmAgreement }-->
	if ($('#agreementCheck').prop('checked') == false) {
		alert('이용약관 동의에 체크해주세요.');
		return false;
	}
	if ($('#privateCheck').prop('checked') == false) {
		alert('개인정보 처리방침 동의에 체크해주세요.');
		return false;
	}
	<!--{ / }-->

	$('#frm').submit();
	$('.submit_btn').attr('onClick' , '');
	alert('회원가입 완료');

}
</script>

<!--{ ? wmAgreement }-->
<div id="join_layer_background" class="join_layer_close"></div>
<div id="join_layer_agreement" class="join_layer_wrapper">
	<div class="join_layer_wrapper_title">이용약관</div>
	<div class="join_layer_wrapper_contents">{=nl2br(agreementInfo.content)}</div>
	<button type="button" class="join_layer_close_btn join_layer_close">닫기</button>
</div>
<div id="join_layer_private" class="join_layer_wrapper">
	<div class="join_layer_wrapper_title">개인정보 처리방침</div>
	<div class="join_layer_wrapper_contents">{=nl2br(privateInfo.content)}</div>
	<button type="button" class="join_layer_close_btn join_layer_close">닫기</button>
</div>
<div id="join_layer_sp" class="join_layer_wrapper">
	<div class="join_layer_wrapper_title">제3자 정보 제공</div>
	<div class="join_layer_wrapper_contents">{=nl2br(spInfo)}</div>
	<button type="button" class="join_layer_close_btn join_layer_close">닫기</button>
</div>

<script>
	$(document).ready(function (){
		$('.join_layer_close').click(function () {
			hide_join_layer();
		});

		$('#allCheck').change(function () {
			if ($(this).prop('checked')) {
				$('.form_element_checkbox').prop('checked', true);
				$('.form_element_checkbox').next('label').addClass('on');
			} else {
				$('.form_element_checkbox').prop('checked', false);
				$('.form_element_checkbox').next('label').removeClass('on');
			}
		});

		$('.form_element_checkbox').change(function () {
			var total = $('.form_element_checkbox').length;
			var checked = $('.form_element_checkbox:checked').length;
			if (total == checked) {
				$('#allCheck').prop('checked', true);
				$('#allCheck').next('label').addClass('on');
			} else {
				$('#allCheck').prop('checked', false);
				$('#allCheck').next('label').removeClass('on');
			}
		});
	});

	function show_join_layer(id) {
		if(id == null) {
			return false;
		}

		$('body').css('overflow', 'hidden').css('padding-right', '15px');
		$('#join_layer_background').show();
		$('#join_layer_'+id).show();
	}

	function hide_join_layer() {
		$('body').css('overflow', 'unset').css('padding-right', 'unset');;
		$('#join_layer_background').hide();
		$('.join_layer_wrapper').hide();
	}
</script>
<!--{ / }-->
{ # footer }